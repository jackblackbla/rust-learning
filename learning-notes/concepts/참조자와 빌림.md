## 기본 개념

- 참조자(&)를 사용하면 소유권을 이전하지 않고 값을 참조할 수 있음
- 참조자를 함수 파라미터로 사용하는 것을 '빌림(Borrowing)'이라고 함

## 기본 사용법

```rust
fn main() {
    let s1 = String::from("hello");
    let len = calculate_length(&s1);
    println!("The length of '{}' is {}.", s1, len);
}

fn calculate_length(s: &String) -> usize {
    s.len()
}
```

## 참조자의 특징

1. 기본적으로 불변(immutable)
2. 참조자가 스코프를 벗어나도 참조된 값은 해제되지 않음
3. 빌린 값은 기본적으로 수정할 수 없음

## 가변 참조자(Mutable References)

### 사용법

```rust
fn main() {
    let mut s = String::from("hello");
    change(&mut s);
}

fn change(some_string: &mut String) {
    some_string.push_str(", world");
}
```

### 제한사항
1. 특정 스코프 내에서 하나의 데이터에 대해 오직 하나의 가변 참조자만 허용
2. 불변 참조자가 있는 동안에는 가변 참조자를 만들 수 없음

### 가변 참조자 여러 개 사용하기

```rust
let mut s = String::from("hello");
{
    let r1 = &mut s;
} // r1 스코프 종료
let r2 = &mut s; // 새로운 가변 참조자 생성 가능
```

## 댕글링 참조자(Dangling References)
- 러스트는 컴파일러가 댕글링 참조자 생성을 방지
- 참조자의 수명이 참조하는 데이터보다 더 길 수 없음

### 잘못된 예시
```rust
fn dangle() -> &String { // 컴파일 에러
    let s = String::from("hello");
    &s
}
```

### 올바른 방법
```rust
fn no_dangle() -> String {
    let s = String::from("hello");
    s
}
```

## 참조자의 규칙 요약
1. 동시에 가질 수 있는 참조자:
   - 하나의 가변 참조자
   - 또는 여러 개의 불변 참조자
2. 참조자는 항상 유효해야 함
3. 참조된 값은 참조자가 존재하는 동안 유효해야 함